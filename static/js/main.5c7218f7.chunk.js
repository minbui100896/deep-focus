(this["webpackJsonpproductivity-fe-v1"]=this["webpackJsonpproductivity-fe-v1"]||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),o=n(9),s=n.n(o),c=(n(21),n.p,n(22),n(11)),r=n(12),l=n(3),h=n(16),u=n(15),m=(n(23),15e5),d=3e5,g=9e5;function b(t){" "===t.key&&(t.preventDefault(),this.handleOnSpaceDown())}function f(){this.state.interval?this.handleStopTimer():this.handleStartTimer()}var p=n(13),k=n.n(p),v=n(41),y=n(42),j=n.p+"static/media/alarm-clock-5s.ba2165d8.mp3",S=n.p+"static/media/clock-ticking.32e29456.mp3",T=n(14),B={focus:{background:{"background-color":"#DB524D"},"main-card":{"background-color":"#DF645F"},"mode-button":{"background-color":"#BE5551","font-weight":"700"},"control-button":{color:"#DB524D"}},shortBreak:{background:{"background-color":"#468E91"},"main-card":{"background-color":"#599A9C"},"mode-button":{"background-color":"#4C8385","font-weight":"700"},"control-button":{color:"#468E91"}},longBreak:{background:{"background-color":"#568BB1"},"main-card":{"background-color":"#437EA8"},"mode-button":{"background-color":"#497697","font-weight":"700"},"control-button":{color:"#568BB1"}}};var R=n(1),O=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t)).state={interval:null,step:0,phase:"",timeRemaining:i.getTimeRemaining(m),isRunning:!1,mode:"focus",finishPhase:!1,continousFocusAmount:0},i.handleStartTimer=i.handleStartTimer.bind(Object(l.a)(i)),i.handleStopTimer=i.handleStopTimer.bind(Object(l.a)(i)),i.startTimer=i.startTimer.bind(Object(l.a)(i)),i.displayTime=i.displayTime.bind(Object(l.a)(i)),i.getTimeRemaining=i.getTimeRemaining.bind(Object(l.a)(i)),i.handleOnKeyDown=b.bind(Object(l.a)(i)),i.handleOnSpaceDown=f.bind(Object(l.a)(i)),i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updateBrowserTab()}},{key:"updateBrowserTab",value:function(){var t="focus"==this.state.mode?"Working time!":"Breaking time!",e="".concat(this.state.timeRemaining.minutes,":").concat(this.state.timeRemaining.seconds," - ").concat(t),n="black";this.state.isRunning&&(n="focus"==this.state.mode?"red":"green");var i={title:e,metaDescription:"With some meta description",iconColor:n};console.log(i),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.title=t.title||"Default title",t.metaDescription=t.metaDescription||"Default description",document.title=t.title,document.querySelector('meta[name="description"]').setAttribute("content",t.metaDescription);var e=document.getElementById("favicon");"red"==t.iconColor?e.href="./red-tick-box.png":"green"==t.iconColor?e.href="./green-tick-box.png":e.href="./black-tick-box.png"}(i)}},{key:"handleStartTimer",value:function(){this.playSound(S),this.state.interval||(this.setState({phase:this.state.step%2===0?"active":"rest"}),this.startTimer(),this.updateBrowserTab())}},{key:"handleStopTimer",value:function(){var t=this;this.state.interval&&(console.log("stopping..."),clearInterval(this.state.interval),this.setState({interval:null,phase:"",isRunning:!1},(function(){t.updateBrowserTab()})))}},{key:"startTimer",value:function(){this.displayTime(),this.setState({interval:setInterval(this.displayTime,1e3),isRunning:!0,finishPhase:!1})}},{key:"displayTime",value:function(){if(console.log(this.state.timeRemaining.total),this.state.timeRemaining.total>0){var t=this.getTimeRemaining(this.state.timeRemaining.total-1e3);this.setState({timeRemaining:t}),this.updateBrowserTab()}else{!this.state.finishPhase&&(this.alarmFinishPhase(),clearInterval(this.state.interval),this.setState({finishPhase:!0,isRunning:!1,interval:null}),"focus"==this.state.mode&&(this.state.continousFocusAmount=this.state.continousFocusAmount+1),this.gotoNextPhase())}}},{key:"resetTimeRemaining",value:function(){"focus"==this.state.mode?this.setState({timeRemaining:this.getTimeRemaining(m)}):"shortBreak"==this.state.mode?this.setState({timeRemaining:this.getTimeRemaining(d)}):this.setState({timeRemaining:this.getTimeRemaining(g)})}},{key:"gotoNextPhase",value:function(){"focus"==this.state.mode?this.state.continousFocusAmount>=3?this.setState({mode:"longBreak",timeRemaining:this.getTimeRemaining(g),continousFocusAmount:0}):this.setState({mode:"shortBreak",timeRemaining:this.getTimeRemaining(d)}):(this.state.mode,this.setState({mode:"focus",timeRemaining:this.getTimeRemaining(m)})),this.updateBrowserTab()}},{key:"getTimeRemaining",value:function(t){var e=t;return{total:e,minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)<10?"0"+Math.floor(e/1e3%60):Math.floor(e/1e3%60)}}},{key:"alarmFinishPhase",value:function(){this.playSound(j)}},{key:"getModeButtonStyle",value:function(t){return t==this.state.mode?B["".concat(this.state.mode)]["mode-button"]:{}}},{key:"getControlButtonStyle",value:function(){return B["".concat(this.state.mode)]["control-button"]}},{key:"handleChangeMode",value:function(t,e){t.preventDefault(),this.setState({finishPhase:!1}),this.handleStopTimer(),"focus"==e?this.handleOpenFocusMode():"shortBreak"==e?this.handleOpenShortBreakMode():this.handleOpenLongBreakMode(),this.updateBrowserTab()}},{key:"handleOpenFocusMode",value:function(){this.setState({mode:"focus",timeRemaining:this.getTimeRemaining(m)})}},{key:"handleOpenShortBreakMode",value:function(){this.setState({mode:"shortBreak",timeRemaining:this.getTimeRemaining(d)})}},{key:"handleOpenLongBreakMode",value:function(){this.setState({mode:"longBreak",timeRemaining:this.getTimeRemaining(g)})}},{key:"playSound",value:function(t){new T.Howl({src:t}).play()}},{key:"render",value:function(){var t=this;return Object(R.jsxs)("div",{className:"active",style:B["".concat(this.state.mode)].background,children:[Object(R.jsx)(v.a,{className:"main-card",style:B["".concat(this.state.mode)]["main-card"],children:Object(R.jsxs)(y.a,{children:[Object(R.jsxs)("div",{className:"mode",children:[Object(R.jsx)("button",{className:"mode-button",style:this.getModeButtonStyle("focus"),onClick:function(e){return t.handleChangeMode(e,"focus")},children:"Focus"}),Object(R.jsx)("button",{className:"mode-button",style:this.getModeButtonStyle("shortBreak"),onClick:function(e){return t.handleChangeMode(e,"shortBreak")},children:"Short Break"}),Object(R.jsx)("button",{className:"mode-button",style:this.getModeButtonStyle("longBreak"),onClick:function(e){return t.handleChangeMode(e,"longBreak")},children:"Long Break"})]}),Object(R.jsxs)("div",{className:"timer",children:[Object(R.jsx)("span",{className:"time",children:"".concat(this.state.timeRemaining.minutes,":").concat(this.state.timeRemaining.seconds)}),Object(R.jsx)("div",{children:this.state.isRunning?Object(R.jsx)("button",{style:this.getControlButtonStyle(),className:"control-button",onClick:this.handleStopTimer,children:"stop"}):Object(R.jsx)("button",{style:this.getControlButtonStyle(),className:"control-button",onClick:this.handleStartTimer,children:"start"})})]})]})}),Object(R.jsx)(k.a,{target:window,onKeyDown:this.handleOnKeyDown})]})}}]),n}(a.a.Component);n.p;var x=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(O,{})})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),o(t),s(t)}))};s.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(x,{})}),document.getElementById("root")),w()}},[[39,1,2]]]);
//# sourceMappingURL=main.5c7218f7.chunk.js.map